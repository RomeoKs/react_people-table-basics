{"version":3,"sources":["api.ts","components/Loader/Loader.tsx","components/PersonLink/PersonLink.tsx","components/PeopleTable/PeopleTable.tsx","Pages/PeoplePage.tsx","Pages/HomePage.tsx","Pages/NotFoundPage.tsx","components/NavigationBar/NavigationBar.tsx","App.tsx","index.tsx"],"names":["getPeople","delay","Promise","resolve","setTimeout","then","fetch","response","json","Loader","_jsx","className","children","PersonLink","_ref","person","Link","to","concat","slug","classnames","sex","name","PeopleTable","_useParams$slug","people","getParent","parentName","find","_ref2","selectedSlug","useParams","useEffect","selectedPerson","document","getElementById","scrollIntoView","behavior","block","_jsxs","map","born","died","motherName","fatherName","father","mother","id","PeoplePage","_useState","useState","_useState2","_slicedToArray","setPeople","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","hasError","setHasError","loadPeople","_asyncToGenerator","_regeneratorRuntime","mark","_callee","peopleFromServer","wrap","_context","prev","next","sent","t0","finish","stop","apply","arguments","_Fragment","length","HomePage","NotFoundPage","NavigationBar","role","NavLink","isActive","cn","App","Routes","Route","path","element","index","Navigate","replace","createRoot","render","HashRouter"],"mappings":"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","file":"static/js/main.df94254e.chunk.js","sourcesContent":["import { Person } from './types/Person';\n\n// eslint-disable-next-line max-len\nconst API_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nfunction wait(delay: number) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n}\n\nexport function getPeople(): Promise<Person[]> {\n  // keep this delay for testing purpose\n  return wait(500)\n    .then(() => fetch(API_URL))\n    .then(response => response.json());\n}\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import { Link } from 'react-router-dom';\nimport classnames from 'classnames';\nimport { Person } from '../../types';\n\ntype Props = {\n  person: Person;\n};\nexport const PersonLink: React.FC<Props> = ({ person }) => {\n  return (\n    <Link\n      to={`/people/${person.slug}`}\n      className={classnames(\n        { 'has-text-danger': person.sex === 'f' },\n      )}\n    >\n      {person.name}\n    </Link>\n  );\n};\n","import { Link, useParams } from 'react-router-dom';\nimport classnames from 'classnames';\nimport { useEffect } from 'react';\nimport { Person } from '../../types';\nimport { PersonLink } from '../PersonLink';\n\ntype Props = {\n  people: Person[];\n};\n\nexport const PeopleTable: React.FC<Props> = ({ people }) => {\n  const getParent = (parentName: string | null) => {\n    return people.find(({ name }) => name === parentName);\n  };\n\n  const selectedSlug = useParams().slug ?? '';\n\n  useEffect(() => {\n    const selectedPerson = document.getElementById(selectedSlug);\n\n    if (selectedPerson) {\n      selectedPerson.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center',\n      });\n    }\n  }, [selectedSlug]);\n\n  return (\n    <table\n      data-cy=\"peopleTable\"\n      className=\"table is-striped is-hoverable is-narrow is-fullwidth\"\n    >\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Sex</th>\n          <th>Born</th>\n          <th>Died</th>\n          <th>Mother</th>\n          <th>Father</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        {people.map(person => {\n          const {\n            name,\n            sex,\n            born,\n            died,\n            slug,\n            motherName,\n            fatherName,\n          } = person;\n          const father = getParent(fatherName);\n          const mother = getParent(motherName);\n\n          return (\n            <tr\n              data-cy=\"person\"\n              key={slug}\n              id={slug}\n              className={classnames({\n                'has-background-warning': slug === selectedSlug,\n              })}\n            >\n              <td>\n                <Link\n                  className={classnames({\n                    'has-text-danger': sex === 'f',\n                  })}\n                  to={`/people/${slug}`}\n                >\n                  {name}\n                </Link>\n              </td>\n\n              <td>{sex}</td>\n              <td>{born}</td>\n              <td>{died}</td>\n              <td>\n                {!motherName && ('-')}\n                {motherName && mother\n                  ? (<PersonLink person={mother} />)\n                  : (motherName)}\n              </td>\n              <td>\n                {!fatherName && ('-')}\n                {fatherName && father\n                  ? (<PersonLink person={father} />)\n                  : (fatherName)}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n","import { useState, useEffect } from 'react';\nimport { getPeople } from '../api';\nimport { Person } from '../types';\nimport { Loader } from '../components/Loader';\nimport { PeopleTable } from '../components/PeopleTable/PeopleTable';\n\nexport const PeoplePage: React.FC = () => {\n  const [people, setPeople] = useState<Person[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasError, setHasError] = useState(false);\n\n  useEffect(() => {\n    const loadPeople = async () => {\n      setIsLoading(true);\n      try {\n        const peopleFromServer = await getPeople();\n\n        setPeople(peopleFromServer);\n        setIsLoading(true);\n      } catch (error) {\n        setHasError(true);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadPeople();\n  }, []);\n\n  return (\n    <>\n      <h1 className=\"title\">People Page</h1>\n\n      <div className=\"block\">\n        <div className=\"box table-container\">\n          {isLoading && <Loader />}\n\n          {hasError && (\n            <p data-cy=\"peopleLoadingError\" className=\"has-text-danger\">\n              Something went wrong\n            </p>\n          )}\n\n          {(!isLoading && !people.length) && (\n            <p data-cy=\"noPeopleMessage\">\n              There are no people on the server\n            </p>\n          )}\n\n          {\n            (!hasError && people.length > 0)\n            && (\n              <PeopleTable\n                people={people}\n              />\n            )\n          }\n        </div>\n      </div>\n    </>\n  );\n};\n","export const HomePage: React.FC = () => {\n  return (\n    <h1 className=\"title\">Home Page</h1>\n  );\n};\n","export const NotFoundPage: React.FC = () => {\n  return (\n    <h1 className=\"title\">Page not found</h1>\n  );\n};\n","import { NavLink } from 'react-router-dom';\nimport cn from 'classnames';\n\nexport const NavigationBar: React.FC = () => {\n  return (\n    <nav\n      data-cy=\"nav\"\n      className=\"navbar is-fixed-top has-shadow\"\n      role=\"navigation\"\n      aria-label=\"main navigation\"\n    >\n      <div className=\"container\">\n        <div className=\"navbar-brand\">\n          <NavLink\n            className={({ isActive }) => (\n              cn('navbar-item', {\n                'has-background-grey-lighter': isActive,\n              })\n            )}\n            to=\"/\"\n          >\n            Home\n          </NavLink>\n\n          <NavLink\n            className={({ isActive }) => (\n              cn('navbar-item', {\n                'has-background-grey-lighter': isActive,\n              })\n            )}\n            to=\"people\"\n          >\n            People\n          </NavLink>\n        </div>\n      </div>\n    </nav>\n  );\n};\n","import { Navigate, Route, Routes } from 'react-router-dom';\n\nimport './App.scss';\nimport { PeoplePage } from './Pages/PeoplePage';\nimport { HomePage } from './Pages/HomePage';\nimport { NotFoundPage } from './Pages/NotFoundPage';\nimport { NavigationBar } from './components/NavigationBar/NavigationBar';\n\nexport const App = () => (\n  <div data-cy=\"app\">\n    <NavigationBar />\n\n    <main className=\"section\">\n      <div className=\"container\">\n\n        <Routes>\n          <Route\n            path=\"/\"\n            element={<HomePage />}\n          />\n          <Route\n            path=\"people\"\n          >\n            <Route\n              index\n              element={<PeoplePage />}\n            />\n            <Route\n              path=\"/people/:slug\"\n              element={<PeoplePage />}\n            />\n          </Route>\n          <Route\n            path=\"/home\"\n            element={<Navigate to=\"/\" replace />}\n          />\n          <Route\n            path=\"*\"\n            element={<NotFoundPage />}\n          />\n        </Routes>\n\n      </div>\n    </main>\n  </div>\n);\n","import { createRoot } from 'react-dom/client';\nimport { HashRouter } from 'react-router-dom';\n\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { App } from './App';\n\ncreateRoot(document.getElementById('root') as HTMLDivElement)\n  .render(\n    <HashRouter>\n      <App />\n    </HashRouter>,\n  );\n"],"sourceRoot":""}